import{d as _,J as b,r as n,o as y,U as w,A as o,V as k,t as c,z as l,M as B,x as f,a6 as C,a7 as p,K as V,v as E,y as R,W as N,N as S,B as q,L as M,_ as U}from"./nDQ2BZ9T.js";import{u as A}from"./BwC3k-Vi.js";const F={key:0,class:"text-red-500 text-sm mt-2"},I={class:"d-flex justify-end"},P=_({__name:"signin",setup(h){const m=b(),a=A(),r=n(""),i=n(""),d=n(!1),u=n(null),v=[s=>!!s||"Email is required",s=>/.+@.+\..+/.test(s)||"Email must be valid"],x=[s=>!!s||"Password is required",s=>s.length>=6||"Password must be at least 6 characters long"],g=()=>{u.value&&u.value.validate()&&a.login(r.value,i.value).then(()=>{a.isAuthenticated&&m.push("/")})};return y(async()=>{await a.restoreSession(),a.isAuthenticated&&m.push("/")}),(s,e)=>(c(),w(k,{fluid:"",class:"d-flex justify-center align-center"},{default:o(()=>[l(M,null,{default:o(()=>[l(B,{cols:"12"},{default:o(()=>[e[4]||(e[4]=f("h1",{class:"text-2xl font-bold text-center mb-8"},"Sign In",-1)),l(C,{ref_key:"formRef",ref:u,modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),"lazy-validation":"",class:"max-w-md mx-auto"},{default:o(()=>[l(p,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),label:"Email",rules:v,"prepend-inner-icon":"mdi-email",type:"email",outlined:"",required:"",class:"mb-5"},null,8,["modelValue"]),l(p,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t),label:"Password",rules:x,"prepend-inner-icon":"mdi-lock",type:"password",outlined:"",required:""},null,8,["modelValue"]),V(a).loginErrorMessage?(c(),E("div",F,R(V(a).loginErrorMessage),1)):N("",!0),f("div",I,[l(S,{color:"primary",class:"mt-10",disabled:!d.value,onClick:g},{default:o(()=>e[3]||(e[3]=[q(" Sign In ")])),_:1},8,["disabled"])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}}),T=U(P,[["__scopeId","data-v-9e80acb8"]]);export{T as default};
